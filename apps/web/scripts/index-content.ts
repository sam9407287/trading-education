/**
 * å…§å®¹ç´¢å¼•è…³æœ¬
 * 
 * ç”¨æ³•ï¼š
 *   npx tsx scripts/index-content.ts
 * 
 * ç’°å¢ƒè®Šé‡ï¼š
 *   SUPABASE_URL - Supabase é …ç›® URL
 *   SUPABASE_SERVICE_KEY - Supabase æœå‹™å¯†é‘°
 *   HUGGINGFACE_API_KEY - HuggingFace API å¯†é‘°
 */

import { createClient } from '@supabase/supabase-js';
import { HfInference } from '@huggingface/inference';

// ä½¿ç”¨å®˜æ–¹ HuggingFace Inference SDK
const EMBEDDING_MODEL = 'sentence-transformers/all-MiniLM-L6-v2';

// é é¢å…§å®¹å®šç¾©
interface PageContent {
  path: string;
  title: string;
  sections: {
    title: string;
    content: string;
  }[];
}

// æ‰€æœ‰éœ€è¦ç´¢å¼•çš„é é¢å…§å®¹
const PAGE_CONTENTS: PageContent[] = [
  // ==================== æŠ€è¡“åˆ†æ ====================
  {
    path: '/technical-analysis',
    title: 'æŠ€è¡“åˆ†æç¸½è¦½',
    sections: [
      {
        title: 'ä»€éº¼æ˜¯æŠ€è¡“åˆ†æ',
        content: 'æŠ€è¡“åˆ†ææ˜¯ä¸€ç¨®é€šéç ”ç©¶æ­·å²åƒ¹æ ¼å’Œæˆäº¤é‡æ•¸æ“šä¾†é æ¸¬æœªä¾†åƒ¹æ ¼èµ°å‹¢çš„æ–¹æ³•ã€‚å®ƒåŸºæ–¼ä¸‰å€‹å‡è¨­ï¼šå¸‚å ´è¡Œç‚ºåŒ…å«ä¸€åˆ‡ä¿¡æ¯ã€åƒ¹æ ¼æ²¿è¶¨å‹¢é‹å‹•ã€æ­·å²æœƒé‡æ¼”ã€‚',
      },
      {
        title: 'æŠ€è¡“åˆ†æçš„é¡åˆ¥',
        content: 'æŠ€è¡“åˆ†æåŒ…å«å¤šå€‹é ˜åŸŸï¼šæŠ€è¡“æŒ‡æ¨™ï¼ˆå‡ç·šã€KDJã€RSIã€MACDã€å¸ƒæ—å¸¶ï¼‰ã€Kç·šå‹æ…‹ï¼ˆåè½‰å‹æ…‹ã€æŒçºŒå‹æ…‹ï¼‰ã€åœ–è¡¨åˆ†æï¼ˆæ”¯æ’é˜»åŠ›ã€è¶¨å‹¢ç·šï¼‰ã€ç†è«–çŸ¥è­˜ï¼ˆé“æ°ç†è«–ã€æ³¢æµªç†è«–ï¼‰ã€è¡Œç‚ºé‡‘èå­¸ï¼ˆèªçŸ¥åèª¤ã€å¸‚å ´å¿ƒç†ï¼‰ã€‚',
      },
    ],
  },
  {
    path: '/technical-analysis/indicators',
    title: 'æŠ€è¡“æŒ‡æ¨™',
    sections: [
      {
        title: 'ç§»å‹•å¹³å‡ç·š MA',
        content: 'ç§»å‹•å¹³å‡ç·šæ˜¯æœ€åŸºæœ¬çš„æŠ€è¡“æŒ‡æ¨™ï¼Œè¨ˆç®—éå»Nå¤©çš„å¹³å‡åƒ¹æ ¼ã€‚å¸¸ç”¨çš„æœ‰ç°¡å–®ç§»å‹•å¹³å‡(SMA)å’ŒæŒ‡æ•¸ç§»å‹•å¹³å‡(EMA)ã€‚çŸ­æœŸå‡ç·šä¸Šç©¿é•·æœŸå‡ç·šç¨±ç‚ºé»ƒé‡‘äº¤å‰ï¼Œæ˜¯è²·å…¥ä¿¡è™Ÿï¼›åä¹‹ç¨±ç‚ºæ­»äº¡äº¤å‰ï¼Œæ˜¯è³£å‡ºä¿¡è™Ÿã€‚å¸¸ç”¨è¨­ç½®ï¼š5ã€10ã€20ã€60ã€120æ—¥å‡ç·šã€‚',
      },
      {
        title: 'KDJ éš¨æ©ŸæŒ‡æ¨™',
        content: 'KDJæŒ‡æ¨™ç”±Kç·šã€Dç·šå’ŒJç·šçµ„æˆï¼Œç”¨æ–¼åˆ¤æ–·è¶…è²·è¶…è³£ã€‚Kå€¼å¤§æ–¼80ç‚ºè¶…è²·å€ï¼Œå°æ–¼20ç‚ºè¶…è³£å€ã€‚ç•¶Kç·šå¾ä¸‹å‘ä¸Šç©¿éDç·šï¼Œä¸”åœ¨è¶…è³£å€ç™¼ç”Ÿï¼Œæ˜¯è²·å…¥ä¿¡è™Ÿã€‚Jå€¼è¶…é100è¡¨ç¤ºæ¥µåº¦è¶…è²·ï¼Œä½æ–¼0è¡¨ç¤ºæ¥µåº¦è¶…è³£ã€‚',
      },
      {
        title: 'RSI ç›¸å°å¼·å¼±æŒ‡æ¨™',
        content: 'RSIæ¸¬é‡åƒ¹æ ¼è®Šå‹•çš„é€Ÿåº¦å’Œè®ŠåŒ–ï¼Œç¯„åœ0-100ã€‚RSIå¤§æ–¼70é€šå¸¸è¡¨ç¤ºè¶…è²·ï¼Œå°æ–¼30è¡¨ç¤ºè¶…è³£ã€‚RSIèƒŒé›¢æ˜¯é‡è¦ä¿¡è™Ÿï¼šåƒ¹æ ¼å‰µæ–°é«˜ä½†RSIæ²’æœ‰ï¼Œæš—ç¤ºä¸Šæ¼²å‹•èƒ½æ¸›å¼±ã€‚å¸¸ç”¨é€±æœŸï¼š14æ—¥ã€‚',
      },
      {
        title: 'MACD æŒ‡æ¨™',
        content: 'MACDç”±å¿«ç·š(DIF)ã€æ…¢ç·š(DEA)å’ŒæŸ±ç‹€åœ–çµ„æˆã€‚è¨ˆç®—æ–¹å¼ï¼šDIF=EMA12-EMA26ï¼ŒDEAæ˜¯DIFçš„9æ—¥EMAã€‚é‡‘å‰è²·å…¥ï¼Œæ­»å‰è³£å‡ºã€‚é›¶è»¸ä¸Šæ–¹çš„é‡‘å‰æ¯”é›¶è»¸ä¸‹æ–¹æ›´å¼·å‹¢ã€‚MACDèƒŒé›¢æ˜¯è¶¨å‹¢åè½‰çš„é‡è¦ä¿¡è™Ÿã€‚',
      },
      {
        title: 'å¸ƒæ—å¸¶ Bollinger Bands',
        content: 'å¸ƒæ—å¸¶ç”±ä¸­è»Œï¼ˆ20æ—¥å‡ç·šï¼‰ã€ä¸Šè»Œï¼ˆä¸­è»Œ+2å€æ¨™æº–å·®ï¼‰ã€ä¸‹è»Œï¼ˆä¸­è»Œ-2å€æ¨™æº–å·®ï¼‰çµ„æˆã€‚åƒ¹æ ¼è§¸åŠä¸Šè»Œå¯èƒ½è¶…è²·ï¼Œè§¸åŠä¸‹è»Œå¯èƒ½è¶…è³£ã€‚å¸¶å¯¬æ”¶çª„è¡¨ç¤ºæ³¢å‹•æ€§é™ä½ï¼Œå¾€å¾€é ç¤ºå¤§è¡Œæƒ…ã€‚åƒ¹æ ¼çªç ´ä¸Šè»Œå¾Œæ²¿ä¸Šè»Œé‹è¡Œæ˜¯å¼·å‹¢ç‰¹å¾µã€‚',
      },
      {
        title: 'ATR å¹³å‡çœŸå¯¦æ³¢å¹…',
        content: 'ATRè¡¡é‡å¸‚å ´æ³¢å‹•æ€§ï¼Œç”¨æ–¼è¨­ç½®æ­¢æå’Œè©•ä¼°é¢¨éšªã€‚è¨ˆç®—çœŸå¯¦æ³¢å¹…çš„14æ—¥å¹³å‡å€¼ã€‚ATRæ“´å¤§è¡¨ç¤ºæ³¢å‹•åŠ åŠ‡ï¼Œç¸®å°è¡¨ç¤ºæ³¢å‹•æ¸›å°ã€‚å¸¸ç”¨æ–¼è¨­ç½®æ­¢æï¼šå…¥å ´åƒ¹ - 2å€ATRã€‚',
      },
    ],
  },
  {
    path: '/technical-analysis/patterns',
    title: 'Kç·šå‹æ…‹',
    sections: [
      {
        title: 'åè½‰å‹æ…‹æ¦‚è¿°',
        content: 'åè½‰å‹æ…‹é ç¤ºè¶¨å‹¢å¯èƒ½æ”¹è®Šã€‚ä¸»è¦åŒ…æ‹¬ï¼šé ­è‚©é ‚/åº•ã€é›™é‡é ‚/åº•ã€ä¸‰é‡é ‚/åº•ã€åœ“å¼§é ‚/åº•ã€‚åè½‰å‹æ…‹éœ€è¦å…ˆæœ‰è¶¨å‹¢å­˜åœ¨ï¼Œæˆäº¤é‡ç¢ºèªå¾ˆé‡è¦ã€‚',
      },
      {
        title: 'é ­è‚©é ‚/åº•',
        content: 'é ­è‚©é ‚ç”±å·¦è‚©ã€é ­éƒ¨ã€å³è‚©çµ„æˆï¼Œé ¸ç·šæ˜¯é—œéµæ”¯æ’ã€‚çªç ´é ¸ç·šå¾Œç›®æ¨™åƒ¹ä½ç´„ç­‰æ–¼é ­éƒ¨åˆ°é ¸ç·šçš„è·é›¢ã€‚é ­è‚©åº•æ˜¯ç›¸åçš„å½¢æ…‹ï¼Œæ˜¯åº•éƒ¨åè½‰ä¿¡è™Ÿã€‚æˆäº¤é‡é€šå¸¸åœ¨é ­éƒ¨æœ€å¤§ï¼Œå³è‚©æœ€å°ã€‚',
      },
      {
        title: 'é›™é‡é ‚/åº•',
        content: 'é›™é‡é ‚ï¼ˆMé ‚ï¼‰ï¼šåƒ¹æ ¼å…©æ¬¡è§¸åŠç›¸è¿‘é«˜é»å¾Œå›è½ï¼Œçªç ´é ¸ç·šç¢ºèªåè½‰ã€‚é›™é‡åº•ï¼ˆWåº•ï¼‰ï¼šåƒ¹æ ¼å…©æ¬¡è§¸åŠç›¸è¿‘ä½é»å¾Œåå½ˆã€‚ç¬¬äºŒæ¬¡è§¸åŠæ™‚æˆäº¤é‡é€šå¸¸è¼ƒå°ã€‚ç›®æ¨™åƒ¹ä½ç­‰æ–¼å½¢æ…‹é«˜åº¦ã€‚',
      },
      {
        title: 'æŒçºŒå‹æ…‹',
        content: 'æŒçºŒå‹æ…‹è¡¨ç¤ºè¶¨å‹¢æš«æ™‚ä¼‘æ•´å¾Œå°‡ç¹¼çºŒã€‚åŒ…æ‹¬ï¼šä¸‰è§’å½¢ï¼ˆå°ç¨±ã€ä¸Šå‡ã€ä¸‹é™ï¼‰ã€æ——å½¢ã€æ¥”å½¢ã€çŸ©å½¢ã€‚é€™äº›å½¢æ…‹é€šå¸¸ä¼´éš¨æˆäº¤é‡èç¸®ï¼Œçªç ´æ™‚æˆäº¤é‡æ”¾å¤§ã€‚',
      },
      {
        title: 'å–®æ ¹Kç·šä¿¡è™Ÿ',
        content: 'éŒ˜å­ç·šï¼šé•·ä¸‹å½±ç·šï¼Œå‡ºç¾åœ¨ä¸‹è·Œè¶¨å‹¢åº•éƒ¨ï¼Œæ˜¯åè½‰ä¿¡è™Ÿã€‚åŠäººç·šï¼šå½¢æ…‹ç›¸åŒä½†å‡ºç¾åœ¨ä¸Šæ¼²é ‚éƒ¨ã€‚åå­—æ˜Ÿï¼šé–‹ç›¤åƒ¹å’Œæ”¶ç›¤åƒ¹æ¥è¿‘ï¼Œè¡¨ç¤ºå¸‚å ´çŒ¶è±«ã€‚é•·å¯¦é«”Kç·šè¡¨ç¤ºå¼·çƒˆçš„è²·æ–¹æˆ–è³£æ–¹åŠ›é‡ã€‚',
      },
    ],
  },
  {
    path: '/technical-analysis/theories',
    title: 'ç¶“å…¸ç†è«–',
    sections: [
      {
        title: 'é“æ°ç†è«–',
        content: 'é“æ°ç†è«–æ˜¯æŠ€è¡“åˆ†æçš„åŸºçŸ³ã€‚æ ¸å¿ƒæ¦‚å¿µï¼šå¸‚å ´æœ‰ä¸‰ç¨®è¶¨å‹¢ï¼ˆä¸»è¦è¶¨å‹¢ã€æ¬¡ç´šè¶¨å‹¢ã€å°è¶¨å‹¢ï¼‰ã€ä¸»è¦è¶¨å‹¢æœ‰ä¸‰å€‹éšæ®µï¼ˆç´¯ç©ã€å…¬çœ¾åƒèˆ‡ã€æ´¾ç™¼ï¼‰ã€æŒ‡æ•¸å¿…é ˆç›¸äº’ç¢ºèªã€æˆäº¤é‡å¿…é ˆç¢ºèªè¶¨å‹¢ã€è¶¨å‹¢æŒçºŒç›´åˆ°æ˜ç¢ºçš„åè½‰ä¿¡è™Ÿã€‚',
      },
      {
        title: 'è‰¾ç•¥ç‰¹æ³¢æµªç†è«–',
        content: 'æ³¢æµªç†è«–èªç‚ºå¸‚å ´ä»¥5-3æµªçš„å½¢å¼é‹å‹•ï¼š5æµªæ¨å‹•ï¼ˆ1ã€3ã€5ä¸Šæ¼²ï¼Œ2ã€4å›èª¿ï¼‰åŠ 3æµªä¿®æ­£ï¼ˆAã€Bã€Cï¼‰ã€‚æµªçš„æ¯”ä¾‹é—œä¿‚å¸¸ç¬¦åˆæ–æ³¢é‚£å¥‘æ•¸åˆ—ã€‚ç¬¬3æµªé€šå¸¸æœ€é•·ä¸”æœ€å¼·ï¼Œä¸èƒ½æ˜¯æœ€çŸ­çš„ã€‚ç¬¬4æµªä¸èƒ½èˆ‡ç¬¬1æµªé‡ç–Šã€‚',
      },
      {
        title: 'å¨ç§‘å¤«ç†è«–',
        content: 'å¨ç§‘å¤«ç†è«–åˆ†æä¾›éœ€é—œä¿‚å’Œæ©Ÿæ§‹è¡Œç‚ºã€‚å››å€‹éšæ®µï¼šç´¯ç©ï¼ˆæ©Ÿæ§‹å»ºå€‰ï¼‰ã€ä¸Šæ¼²ã€æ´¾ç™¼ï¼ˆæ©Ÿæ§‹å‡ºè²¨ï¼‰ã€ä¸‹è·Œã€‚é—œæ³¨æˆäº¤é‡èˆ‡åƒ¹æ ¼çš„é—œä¿‚ï¼Œè­˜åˆ¥ã€Œè°æ˜éŒ¢ã€çš„å‹•å‘ã€‚Springï¼ˆå½ˆç°§ï¼‰å’ŒUpthrustï¼ˆä¸Šæ²–ï¼‰æ˜¯é‡è¦ä¿¡è™Ÿã€‚',
      },
      {
        title: 'æ±Ÿæ©ç†è«–',
        content: 'æ±Ÿæ©ç†è«–çµåˆæ™‚é–“å’Œåƒ¹æ ¼åˆ†æã€‚æ ¸å¿ƒå·¥å…·ï¼šæ±Ÿæ©è§’åº¦ç·šï¼ˆ1x1ã€2x1ç­‰ï¼‰ã€æ±Ÿæ©æ–¹æ ¼ã€æ™‚é–“é€±æœŸã€‚èªç‚ºç‰¹å®šè§’åº¦ï¼ˆ45åº¦ï¼‰å…·æœ‰é‡è¦æ„ç¾©ã€‚å¼·èª¿æ™‚é–“é€±æœŸçš„é‡è¤‡æ€§ï¼Œå¦‚30ã€60ã€90ã€120å¤©ç­‰ã€‚',
      },
      {
        title: 'æ–æ³¢é‚£å¥‘å›æ’¤',
        content: 'åŸºæ–¼æ–æ³¢é‚£å¥‘æ•¸åˆ—çš„æŠ€è¡“åˆ†æå·¥å…·ã€‚é—œéµå›æ’¤ä½ï¼š23.6%ã€38.2%ã€50%ã€61.8%ã€78.6%ã€‚åœ¨è¶¨å‹¢ä¸­ï¼Œåƒ¹æ ¼é€šå¸¸æœƒå›æ’¤åˆ°é€™äº›ä½ç½®å¾Œç¹¼çºŒã€‚61.8%æ˜¯é»ƒé‡‘åˆ†å‰²æ¯”ä¾‹ï¼Œæ˜¯æœ€é‡è¦çš„å›æ’¤ä½ã€‚',
      },
    ],
  },
  {
    path: '/technical-analysis/behavioral-finance',
    title: 'è¡Œç‚ºé‡‘èå­¸',
    sections: [
      {
        title: 'èªçŸ¥åèª¤æ¦‚è¿°',
        content: 'è¡Œç‚ºé‡‘èå­¸ç ”ç©¶å¿ƒç†å› ç´ å¦‚ä½•å½±éŸ¿æŠ•è³‡æ±ºç­–ã€‚èªçŸ¥åèª¤æœƒå°è‡´éç†æ€§è¡Œç‚ºï¼Œç†è§£é€™äº›åèª¤å¯ä»¥å¹«åŠ©æˆ‘å€‘åšå‡ºæ›´å¥½çš„äº¤æ˜“æ±ºç­–ï¼Œé¿å…å¸¸è¦‹çš„å¿ƒç†é™·é˜±ã€‚',
      },
      {
        title: 'ç¢ºèªåèª¤',
        content: 'ç¢ºèªåèª¤æ˜¯æŒ‡å‚¾å‘æ–¼å°‹æ‰¾æ”¯æŒè‡ªå·±è§€é»çš„ä¿¡æ¯ï¼Œå¿½ç•¥ç›¸åè­‰æ“šã€‚åœ¨äº¤æ˜“ä¸­è¡¨ç¾ç‚ºï¼šè²·å…¥å¾Œåªçœ‹åˆ©å¥½æ¶ˆæ¯ï¼Œå¿½è¦–é¢¨éšªä¿¡è™Ÿã€‚å°ç­–ï¼šä¸»å‹•å°‹æ‰¾åé¢è§€é»ï¼Œè¨­å®šå®¢è§€çš„åœææ¨™æº–ã€‚',
      },
      {
        title: 'æå¤±å­æƒ¡',
        content: 'æå¤±å¸¶ä¾†çš„ç—›è‹¦ç´„æ˜¯åŒç­‰æ”¶ç›Šå¸¶ä¾†å¿«æ¨‚çš„2å€ã€‚é€™å°è‡´æŠ•è³‡è€…æŒæœ‰è™§æé ­å¯¸éä¹…ï¼ˆä¸é¡˜èªè³ ï¼‰ï¼Œéæ—©è³£å‡ºç›ˆåˆ©é ­å¯¸ï¼ˆå®³æ€•å›ååˆ©æ½¤ï¼‰ã€‚å°ç­–ï¼šä½¿ç”¨æ­¢æå–®ï¼ŒæŒ‰è¨ˆåŠƒåŸ·è¡Œã€‚',
      },
      {
        title: 'éŒ¨å®šæ•ˆæ‡‰',
        content: 'éåº¦ä¾è³´æŸå€‹åƒè€ƒé»åšæ±ºç­–ã€‚ä¾‹å¦‚ï¼šå› ç‚ºè‚¡ç¥¨æ›¾ç¶“æ˜¯100å…ƒï¼Œå°±èªç‚º80å…ƒæ˜¯ä¾¿å®œçš„ï¼Œå¿½è¦–åŸºæœ¬é¢è®ŠåŒ–ã€‚å°ç­–ï¼šåŸºæ–¼ç•¶å‰æ¢ä»¶åˆ†æï¼Œä¸è¦è¢«æ­·å²åƒ¹æ ¼æŸç¸›ã€‚',
      },
      {
        title: 'éåº¦è‡ªä¿¡',
        content: 'é«˜ä¼°è‡ªå·±çš„åˆ¤æ–·èƒ½åŠ›ï¼Œä½ä¼°é¢¨éšªã€‚è¡¨ç¾ç‚ºï¼šéåº¦äº¤æ˜“ã€é‡å€‰å–®ä¸€æ¨™çš„ã€å¿½è¦–æ­¢æã€‚ç ”ç©¶é¡¯ç¤ºéåº¦è‡ªä¿¡çš„äº¤æ˜“è€…ç¸¾æ•ˆè¼ƒå·®ã€‚å°ç­–ï¼šä¿æŒè¬™éœï¼Œæ‰¿èªå¸‚å ´çš„ä¸ç¢ºå®šæ€§ã€‚',
      },
      {
        title: 'ç¾Šç¾¤æ•ˆæ‡‰',
        content: 'è·Ÿéš¨å¤§çœ¾è¡Œç‚ºï¼Œåœ¨é«˜é»è²·å…¥ã€ä½é»è³£å‡ºã€‚ã€Œåˆ¥äººéƒ½åœ¨è²·ï¼Œæ‡‰è©²æ²’éŒ¯ã€æ˜¯å…¸å‹çš„ç¾Šç¾¤å¿ƒç†ã€‚å°ç­–ï¼šç¨ç«‹æ€è€ƒï¼Œé€†å‘æŠ•è³‡ï¼Œè¨˜ä½ã€Œå¸‚å ´æœ€æ“æ“ æ™‚å¾€å¾€æœ€å±éšªã€ã€‚',
      },
      {
        title: 'è¿‘å› åèª¤',
        content: 'éåº¦é‡è¦–æœ€è¿‘ç™¼ç”Ÿçš„äº‹ä»¶ã€‚é€£çºŒå¹¾æ¬¡ç²åˆ©å¾Œæœƒéåº¦è‡ªä¿¡ï¼Œé€£çºŒè™§æå¾Œæœƒéåº¦ææ‡¼ã€‚å°ç­–ï¼šä¿æŒé•·æœŸè¦–è§’ï¼Œç”¨ç³»çµ±åŒ–æ–¹æ³•åšæ±ºç­–ã€‚',
      },
      {
        title: 'è™•ç½®æ•ˆæ‡‰',
        content: 'å‚¾å‘æ–¼éæ—©è³£å‡ºç›ˆåˆ©è‚¡ç¥¨ï¼Œéä¹…æŒæœ‰è™§æè‚¡ç¥¨ã€‚é€™èˆ‡æå¤±å­æƒ¡æœ‰é—œã€‚çµæœæ˜¯ã€Œæˆªæ–·åˆ©æ½¤ï¼Œè®“è™§æå¥”è·‘ã€ï¼Œèˆ‡æ­£ç¢ºåšæ³•ç›¸åã€‚å°ç­–ï¼šè®“åˆ©æ½¤å¥”è·‘ï¼ŒåŠæ™‚æ­¢æã€‚',
      },
    ],
  },
  // ==================== æœŸæ¬Š ====================
  {
    path: '/options',
    title: 'æœŸæ¬Šäº¤æ˜“ç¸½è¦½',
    sections: [
      {
        title: 'ä»€éº¼æ˜¯æœŸæ¬Š',
        content: 'æœŸæ¬Šæ˜¯ä¸€ç¨®è¡ç”Ÿæ€§é‡‘èå•†å“ï¼Œçµ¦äºˆæŒæœ‰è€…åœ¨ç‰¹å®šæ™‚é–“ä»¥ç‰¹å®šåƒ¹æ ¼è²·å…¥æˆ–è³£å‡ºæ¨™çš„è³‡ç”¢çš„æ¬Šåˆ©ï¼ˆè€Œéç¾©å‹™ï¼‰ã€‚è²·æ–¹æ”¯ä»˜æ¬Šåˆ©é‡‘ç²å¾—æ¬Šåˆ©ï¼Œè³£æ–¹æ”¶å–æ¬Šåˆ©é‡‘æ‰¿æ“”ç¾©å‹™ã€‚',
      },
      {
        title: 'æœŸæ¬Šçš„é¡å‹',
        content: 'è²·æ¬Šï¼ˆCallï¼‰ï¼šçµ¦äºˆè²·æ–¹åœ¨åˆ°æœŸæ—¥æˆ–ä¹‹å‰ä»¥åŸ·è¡Œåƒ¹è²·å…¥æ¨™çš„è³‡ç”¢çš„æ¬Šåˆ©ã€‚è³£æ¬Šï¼ˆPutï¼‰ï¼šçµ¦äºˆè²·æ–¹åœ¨åˆ°æœŸæ—¥æˆ–ä¹‹å‰ä»¥åŸ·è¡Œåƒ¹è³£å‡ºæ¨™çš„è³‡ç”¢çš„æ¬Šåˆ©ã€‚ç¾å¼æœŸæ¬Šå¯åœ¨åˆ°æœŸå‰ä»»ä½•æ™‚é–“åŸ·è¡Œï¼Œæ­å¼æœŸæ¬Šåªèƒ½åœ¨åˆ°æœŸæ—¥åŸ·è¡Œã€‚',
      },
    ],
  },
  {
    path: '/options/basics',
    title: 'æœŸæ¬ŠåŸºç¤',
    sections: [
      {
        title: 'æœŸæ¬Šçš„æ§‹æˆè¦ç´ ',
        content: 'æœŸæ¬Šæœ‰å››å€‹é—œéµè¦ç´ ï¼šæ¨™çš„è³‡ç”¢ï¼ˆå¦‚è‚¡ç¥¨ã€æŒ‡æ•¸ï¼‰ã€åŸ·è¡Œåƒ¹æ ¼ï¼ˆå±¥ç´„åƒ¹ï¼‰ã€åˆ°æœŸæ—¥ã€æ¬Šåˆ©é‡‘ï¼ˆæœŸæ¬Šåƒ¹æ ¼ï¼‰ã€‚æ¬Šåˆ©é‡‘ç”±å…§åœ¨åƒ¹å€¼å’Œæ™‚é–“åƒ¹å€¼çµ„æˆã€‚',
      },
      {
        title: 'å…§åœ¨åƒ¹å€¼èˆ‡æ™‚é–“åƒ¹å€¼',
        content: 'å…§åœ¨åƒ¹å€¼æ˜¯æœŸæ¬Šç«‹å³åŸ·è¡Œèƒ½ç²å¾—çš„åƒ¹å€¼ã€‚å°æ–¼Callï¼šæ¨™çš„åƒ¹æ ¼ - åŸ·è¡Œåƒ¹ï¼ˆå¦‚æœç‚ºæ­£ï¼‰ã€‚å°æ–¼Putï¼šåŸ·è¡Œåƒ¹ - æ¨™çš„åƒ¹æ ¼ï¼ˆå¦‚æœç‚ºæ­£ï¼‰ã€‚æ™‚é–“åƒ¹å€¼ = æ¬Šåˆ©é‡‘ - å…§åœ¨åƒ¹å€¼ï¼Œåæ˜ æœŸæ¬Šå¯èƒ½å¢å€¼çš„æ½›åŠ›ã€‚',
      },
      {
        title: 'åƒ¹å…§ã€åƒ¹å¹³ã€åƒ¹å¤–',
        content: 'CallæœŸæ¬Šï¼šæ¨™çš„åƒ¹æ ¼ > åŸ·è¡Œåƒ¹ = åƒ¹å…§ï¼ˆITMï¼‰ï¼Œç­‰æ–¼ = åƒ¹å¹³ï¼ˆATMï¼‰ï¼Œå°æ–¼ = åƒ¹å¤–ï¼ˆOTMï¼‰ã€‚PutæœŸæ¬Šç›¸åã€‚åƒ¹å…§æœŸæ¬Šæœ‰å…§åœ¨åƒ¹å€¼ï¼Œåƒ¹å¤–æœŸæ¬Šåªæœ‰æ™‚é–“åƒ¹å€¼ã€‚',
      },
      {
        title: 'æœŸæ¬Šçš„å››ç¨®åŸºæœ¬éƒ¨ä½',
        content: 'è²·é€²è²·æ¬Šï¼ˆLong Callï¼‰ï¼šçœ‹æ¼²ï¼Œé¢¨éšªæœ‰é™ï¼ˆæ¬Šåˆ©é‡‘ï¼‰ï¼Œæ”¶ç›Šç„¡é™ã€‚è³£å‡ºè²·æ¬Šï¼ˆShort Callï¼‰ï¼šçœ‹è·Œæˆ–ä¸­æ€§ï¼Œæ”¶ç›Šæœ‰é™ï¼Œé¢¨éšªç„¡é™ã€‚è²·é€²è³£æ¬Šï¼ˆLong Putï¼‰ï¼šçœ‹è·Œï¼Œé¢¨éšªæœ‰é™ï¼Œæ”¶ç›Šå¯è§€ã€‚è³£å‡ºè³£æ¬Šï¼ˆShort Putï¼‰ï¼šçœ‹æ¼²æˆ–ä¸­æ€§ï¼Œæ”¶ç›Šæœ‰é™ï¼Œé¢¨éšªå¯è§€ã€‚',
      },
    ],
  },
  {
    path: '/options/greeks',
    title: 'å¸Œè‡˜å­—æ¯',
    sections: [
      {
        title: 'ä»€éº¼æ˜¯å¸Œè‡˜å­—æ¯',
        content: 'å¸Œè‡˜å­—æ¯ï¼ˆGreeksï¼‰æ˜¯è¡¡é‡æœŸæ¬Šåƒ¹æ ¼å°å„ç¨®å› ç´ æ•æ„Ÿåº¦çš„æŒ‡æ¨™ã€‚ä¸»è¦æœ‰äº”å€‹ï¼šDeltaã€Gammaã€Thetaã€Vegaã€Rhoã€‚ç†è§£é€™äº›æŒ‡æ¨™å°æ–¼é¢¨éšªç®¡ç†å’Œç­–ç•¥é¸æ“‡è‡³é—œé‡è¦ã€‚',
      },
      {
        title: 'Deltaï¼ˆÎ”ï¼‰',
        content: 'Deltaè¡¡é‡æœŸæ¬Šåƒ¹æ ¼å°æ¨™çš„è³‡ç”¢åƒ¹æ ¼è®Šå‹•çš„æ•æ„Ÿåº¦ã€‚Callçš„Deltaåœ¨0åˆ°1ä¹‹é–“ï¼ŒPutåœ¨-1åˆ°0ä¹‹é–“ã€‚ATMæœŸæ¬ŠDeltaç´„ç‚ºÂ±0.5ã€‚Deltaä¹Ÿå¯è§£è®€ç‚ºæœŸæ¬Šåˆ°æœŸåƒ¹å…§çš„æ¦‚ç‡ã€‚ä¾‹å¦‚Delta=0.7æ„å‘³è‘—æ¨™çš„æ¼²1å…ƒï¼ŒæœŸæ¬Šç´„æ¼²0.7å…ƒã€‚',
      },
      {
        title: 'Gammaï¼ˆÎ“ï¼‰',
        content: 'Gammaè¡¡é‡Deltaå°æ¨™çš„åƒ¹æ ¼è®Šå‹•çš„æ•æ„Ÿåº¦ï¼ˆDeltaçš„Deltaï¼‰ã€‚ATMæœŸæ¬ŠGammaæœ€å¤§ã€‚Gammaé«˜æ„å‘³è‘—Deltaè®ŠåŒ–å¿«ï¼Œé¢¨éšªå’Œæ©Ÿæœƒéƒ½å¤§ã€‚æ¥è¿‘åˆ°æœŸæ™‚ï¼ŒATMæœŸæ¬ŠGammaæœƒæ€¥åŠ‡å¢åŠ ï¼ˆGammaé¢¨éšªï¼‰ã€‚',
      },
      {
        title: 'Thetaï¼ˆÎ˜ï¼‰',
        content: 'Thetaè¡¡é‡æ™‚é–“æµé€å°æœŸæ¬Šåƒ¹å€¼çš„å½±éŸ¿ï¼ˆæ™‚é–“è¡°æ¸›ï¼‰ã€‚é€šå¸¸ç‚ºè² å€¼ï¼Œè¡¨ç¤ºæ¯å¤©æœŸæ¬Šåƒ¹å€¼æ¸›å°‘å¤šå°‘ã€‚ATMæœŸæ¬ŠThetaæœ€å¤§ã€‚æ¥è¿‘åˆ°æœŸæ™‚ï¼Œæ™‚é–“è¡°æ¸›åŠ é€Ÿã€‚è³£æ–¹è³ºå–Thetaï¼Œè²·æ–¹æ‰¿æ“”Thetaæè€—ã€‚',
      },
      {
        title: 'Vegaï¼ˆÎ½ï¼‰',
        content: 'Vegaè¡¡é‡æœŸæ¬Šåƒ¹æ ¼å°éš±å«æ³¢å‹•ç‡è®ŠåŒ–çš„æ•æ„Ÿåº¦ã€‚æ³¢å‹•ç‡ä¸Šå‡ï¼ŒæœŸæ¬Šåƒ¹å€¼å¢åŠ ã€‚ATMæœŸæ¬ŠVegaæœ€å¤§ã€‚é•·å¤©æœŸæœŸæ¬ŠVegaæ›´é«˜ã€‚è²·æ–¹å—ç›Šæ–¼æ³¢å‹•ç‡ä¸Šå‡ï¼Œè³£æ–¹å—ç›Šæ–¼æ³¢å‹•ç‡ä¸‹é™ã€‚',
      },
      {
        title: 'Rhoï¼ˆÏï¼‰',
        content: 'Rhoè¡¡é‡æœŸæ¬Šåƒ¹æ ¼å°åˆ©ç‡è®ŠåŒ–çš„æ•æ„Ÿåº¦ã€‚åˆ©ç‡ä¸Šå‡å°Callæœ‰åˆ©ï¼Œå°Putä¸åˆ©ã€‚åœ¨ä½åˆ©ç‡ç’°å¢ƒä¸‹ï¼ŒRhoå½±éŸ¿ç›¸å°è¼ƒå°ã€‚é•·å¤©æœŸæœŸæ¬ŠRhoå½±éŸ¿æ›´å¤§ã€‚',
      },
    ],
  },
  {
    path: '/options/strategies',
    title: 'æœŸæ¬Šç­–ç•¥',
    sections: [
      {
        title: 'å‚™å…Œçœ‹æ¼²æœŸæ¬Š Covered Call',
        content: 'Covered Callæ˜¯æŒæœ‰è‚¡ç¥¨åŒæ™‚è³£å‡ºè©²è‚¡ç¥¨çš„è²·æ¬Šã€‚ç›®çš„æ˜¯è³ºå–æ¬Šåˆ©é‡‘æ”¶å…¥ã€‚æœ€å¤§ç²åˆ©æ˜¯æ¬Šåˆ©é‡‘åŠ ä¸Šè‚¡åƒ¹æ¼²è‡³åŸ·è¡Œåƒ¹çš„å·®é¡ã€‚é¢¨éšªæ˜¯è‚¡åƒ¹å¤§å¹…ä¸‹è·Œã€‚é©åˆæº«å’Œçœ‹æ¼²æˆ–ä¸­æ€§å¸‚å ´ã€‚',
      },
      {
        title: 'ä¿è­·æ€§è³£æ¬Š Protective Put',
        content: 'Protective Putæ˜¯æŒæœ‰è‚¡ç¥¨åŒæ™‚è²·å…¥è©²è‚¡ç¥¨çš„è³£æ¬Šã€‚ç›®çš„æ˜¯ä¿è­·ä¸‹è·Œé¢¨éšªã€‚æœ€å¤§æå¤±æ˜¯æ¬Šåˆ©é‡‘åŠ ä¸Šè‚¡åƒ¹è·Œè‡³åŸ·è¡Œåƒ¹çš„å·®é¡ã€‚é¡ä¼¼æ–¼è³¼è²·ä¿éšªã€‚é©åˆçœ‹æ¼²ä½†æ“”å¿ƒä¸‹è·Œé¢¨éšªã€‚',
      },
      {
        title: 'ç‰›å¸‚åƒ¹å·® Bull Spread',
        content: 'ç‰›å¸‚çœ‹æ¼²åƒ¹å·®ï¼šè²·å…¥è¼ƒä½åŸ·è¡Œåƒ¹Callï¼Œè³£å‡ºè¼ƒé«˜åŸ·è¡Œåƒ¹Callã€‚æœ€å¤§ç²åˆ©æ˜¯å…©å€‹åŸ·è¡Œåƒ¹ä¹‹å·®æ¸›å»æ·¨æ”¯å‡ºã€‚æœ€å¤§æå¤±æ˜¯æ·¨æ”¯å‡ºçš„æ¬Šåˆ©é‡‘ã€‚é©åˆæº«å’Œçœ‹æ¼²å¸‚å ´ï¼Œé™ä½æˆæœ¬ã€‚',
      },
      {
        title: 'ç†Šå¸‚åƒ¹å·® Bear Spread',
        content: 'ç†Šå¸‚çœ‹è·Œåƒ¹å·®ï¼šè²·å…¥è¼ƒé«˜åŸ·è¡Œåƒ¹Putï¼Œè³£å‡ºè¼ƒä½åŸ·è¡Œåƒ¹Putã€‚æœ€å¤§ç²åˆ©æ˜¯å…©å€‹åŸ·è¡Œåƒ¹ä¹‹å·®æ¸›å»æ·¨æ”¯å‡ºã€‚æœ€å¤§æå¤±æ˜¯æ·¨æ”¯å‡ºçš„æ¬Šåˆ©é‡‘ã€‚é©åˆæº«å’Œçœ‹è·Œå¸‚å ´ã€‚',
      },
      {
        title: 'è·¨å¼ç­–ç•¥ Straddle',
        content: 'Long Straddleï¼šåŒæ™‚è²·å…¥ç›¸åŒåŸ·è¡Œåƒ¹çš„Callå’ŒPutã€‚é æœŸå¤§å¹…æ³¢å‹•ä½†ä¸ç¢ºå®šæ–¹å‘ã€‚æœ€å¤§æå¤±æ˜¯å…©ä»½æ¬Šåˆ©é‡‘ã€‚éœ€è¦æ¨™çš„å¤§å¹…ç§»å‹•æ‰èƒ½ç²åˆ©ã€‚é©åˆé æœŸé‡å¤§äº‹ä»¶ï¼ˆè²¡å ±ã€é¸èˆ‰ï¼‰ã€‚',
      },
      {
        title: 'å‹’å¼ç­–ç•¥ Strangle',
        content: 'Long Strangleï¼šè²·å…¥åƒ¹å¤–Callå’Œåƒ¹å¤–Putï¼ˆä¸åŒåŸ·è¡Œåƒ¹ï¼‰ã€‚æ¯”Straddleä¾¿å®œä½†éœ€è¦æ›´å¤§æ³¢å‹•ã€‚æœ€å¤§æå¤±æ˜¯æ¬Šåˆ©é‡‘ã€‚é©åˆé æœŸå¤§æ³¢å‹•ä½†æˆæœ¬æ•æ„Ÿã€‚',
      },
      {
        title: 'éµç¦¿é·¹ Iron Condor',
        content: 'Iron Condorï¼šçµåˆBull Put Spreadå’ŒBear Call Spreadã€‚åœ¨ç‰¹å®šåƒ¹æ ¼å€é–“å…§ç²åˆ©ã€‚æœ€å¤§ç²åˆ©æ˜¯æ”¶å–çš„æ·¨æ¬Šåˆ©é‡‘ã€‚æœ€å¤§æå¤±æ˜¯åƒ¹å·®å¯¬åº¦æ¸›å»æ¬Šåˆ©é‡‘ã€‚é©åˆé æœŸä½æ³¢å‹•ã€å€é–“éœ‡ç›ªã€‚',
      },
      {
        title: 'è¶å¼ç­–ç•¥ Butterfly',
        content: 'Long Butterflyï¼šè²·å…¥ä¸€å€‹ä½åŸ·è¡Œåƒ¹Callï¼Œè³£å‡ºå…©å€‹ä¸­é–“åŸ·è¡Œåƒ¹Callï¼Œè²·å…¥ä¸€å€‹é«˜åŸ·è¡Œåƒ¹Callã€‚æœ€å¤§ç²åˆ©åœ¨ä¸­é–“åŸ·è¡Œåƒ¹ã€‚æˆæœ¬ä½ä½†ç²åˆ©å€é–“çª„ã€‚é©åˆé æœŸåƒ¹æ ¼ç©©å®šåœ¨ç‰¹å®šæ°´å¹³ã€‚',
      },
      {
        title: 'æ—¥æ›†åƒ¹å·® Calendar Spread',
        content: 'Calendar Spreadï¼šè³£å‡ºè¿‘æœŸæœŸæ¬Šï¼Œè²·å…¥é æœŸæœŸæ¬Šï¼ˆç›¸åŒåŸ·è¡Œåƒ¹ï¼‰ã€‚åˆ©ç”¨æ™‚é–“è¡°æ¸›å·®ç•°ç²åˆ©ã€‚è¿‘æœŸæœŸæ¬ŠThetaè¡°æ¸›æ›´å¿«ã€‚é©åˆé æœŸçŸ­æœŸæ³¢å‹•å°ï¼Œé•·æœŸæ³¢å‹•å¢åŠ ã€‚',
      },
    ],
  },
  {
    path: '/options/iv-analysis',
    title: 'IV åˆ†æ',
    sections: [
      {
        title: 'ä»€éº¼æ˜¯éš±å«æ³¢å‹•ç‡',
        content: 'éš±å«æ³¢å‹•ç‡ï¼ˆIVï¼‰æ˜¯å¾æœŸæ¬Šåƒ¹æ ¼åæ¨å‡ºçš„å¸‚å ´é æœŸæ³¢å‹•ç‡ã€‚IVé«˜è¡¨ç¤ºå¸‚å ´é æœŸæœªä¾†æ³¢å‹•å¤§ï¼ŒæœŸæ¬Šåƒ¹æ ¼è²´ã€‚IVä½è¡¨ç¤ºé æœŸæ³¢å‹•å°ï¼ŒæœŸæ¬Šä¾¿å®œã€‚IVæ˜¯æœŸæ¬Šå®šåƒ¹çš„é—œéµè¼¸å…¥ã€‚',
      },
      {
        title: 'IV Rank å’Œ IV Percentile',
        content: 'IV Rankï¼šç•¶å‰IVåœ¨éå»ä¸€å¹´IVç¯„åœä¸­çš„ä½ç½®ç™¾åˆ†æ¯”ã€‚å…¬å¼ï¼š(ç•¶å‰IV - 52å‘¨æœ€ä½IV) / (52å‘¨æœ€é«˜IV - 52å‘¨æœ€ä½IV)ã€‚IV Percentileï¼šéå»ä¸€å¹´ä¸­ä½æ–¼ç•¶å‰IVçš„å¤©æ•¸ç™¾åˆ†æ¯”ã€‚é€™å…©å€‹æŒ‡æ¨™å¹«åŠ©åˆ¤æ–·IVæ˜¯é«˜é‚„æ˜¯ä½ã€‚',
      },
      {
        title: 'æ³¢å‹•ç‡å¾®ç¬‘',
        content: 'æ³¢å‹•ç‡å¾®ç¬‘ï¼ˆVolatility Smileï¼‰ï¼šä¸åŒåŸ·è¡Œåƒ¹çš„æœŸæ¬Šæœ‰ä¸åŒçš„IVã€‚é€šå¸¸åƒ¹å¤–Putçš„IVè¼ƒé«˜ï¼ˆåæ˜ å¸‚å ´å°ä¸‹è·Œçš„ææ‡¼ï¼‰ã€‚æ³¢å‹•ç‡åæ–œï¼ˆSkewï¼‰è¡¡é‡é€™ç¨®ä¸å°ç¨±æ€§ã€‚é€™åæ˜ äº†çœŸå¯¦å¸‚å ´èˆ‡Black-Scholesæ¨¡å‹å‡è¨­çš„å·®ç•°ã€‚',
      },
      {
        title: 'IV èˆ‡ç­–ç•¥é¸æ“‡',
        content: 'IVé«˜æ™‚ï¼šé©åˆè³£å‡ºç­–ç•¥ï¼ˆæ”¶å–è¼ƒé«˜æ¬Šåˆ©é‡‘ï¼‰ï¼Œå¦‚Short Strangleã€Iron Condorã€‚IVä½æ™‚ï¼šé©åˆè²·å…¥ç­–ç•¥ï¼ˆæ¬Šåˆ©é‡‘ä¾¿å®œï¼‰ï¼Œå¦‚Long Straddleã€Long Call/Putã€‚è²¡å ±å‰IVé€šå¸¸ä¸Šå‡ï¼ˆIV Crushåœ¨è²¡å ±å¾Œï¼‰ã€‚',
      },
      {
        title: 'VIX æŒ‡æ•¸',
        content: 'VIXæ˜¯S&P 500æŒ‡æ•¸æœŸæ¬Šçš„éš±å«æ³¢å‹•ç‡æŒ‡æ•¸ï¼Œè¢«ç¨±ç‚ºã€Œææ…ŒæŒ‡æ•¸ã€ã€‚VIXé«˜ï¼ˆ>30ï¼‰è¡¨ç¤ºå¸‚å ´ææ…Œï¼ŒVIXä½ï¼ˆ<15ï¼‰è¡¨ç¤ºå¸‚å ´å¹³éœã€‚VIXé€šå¸¸èˆ‡è‚¡å¸‚è² ç›¸é—œï¼Œå¯ç”¨æ–¼é¿éšªã€‚VIXä¹Ÿæœ‰æœŸè²¨å’ŒæœŸæ¬Šå¯äº¤æ˜“ã€‚',
      },
    ],
  },
];

// HuggingFace å®¢æˆ¶ç«¯å¯¦ä¾‹
let hfClient: HfInference | null = null;

// ç”Ÿæˆ embedding çš„å‡½æ•¸
async function generateEmbedding(text: string, apiKey: string): Promise<number[]> {
  if (!hfClient) {
    hfClient = new HfInference(apiKey);
  }

  const result = await hfClient.featureExtraction({
    model: EMBEDDING_MODEL,
    inputs: text,
  });

  // çµæœå¯èƒ½æ˜¯åµŒå¥—æ•¸çµ„
  if (Array.isArray(result) && Array.isArray(result[0])) {
    return result[0] as number[];
  }
  
  return result as number[];
}

// ä¸»å‡½æ•¸
async function indexContent() {
  console.log('ğŸš€ é–‹å§‹ç´¢å¼•å…§å®¹...\n');

  // æª¢æŸ¥ç’°å¢ƒè®Šé‡
  const supabaseUrl = process.env.SUPABASE_URL;
  const supabaseKey = process.env.SUPABASE_SERVICE_KEY;
  const hfApiKey = process.env.HUGGINGFACE_API_KEY;

  if (!supabaseUrl || !supabaseKey) {
    console.error('âŒ éŒ¯èª¤ï¼šç¼ºå°‘ SUPABASE_URL æˆ– SUPABASE_SERVICE_KEY ç’°å¢ƒè®Šé‡');
    process.exit(1);
  }

  if (!hfApiKey) {
    console.error('âŒ éŒ¯èª¤ï¼šç¼ºå°‘ HUGGINGFACE_API_KEY ç’°å¢ƒè®Šé‡');
    process.exit(1);
  }

  // å‰µå»º Supabase å®¢æˆ¶ç«¯
  const supabase = createClient(supabaseUrl, supabaseKey);

  // çµ±è¨ˆ
  let totalChunks = 0;
  let successCount = 0;
  let errorCount = 0;

  // éæ­·æ‰€æœ‰é é¢
  for (const page of PAGE_CONTENTS) {
    console.log(`ğŸ“„ è™•ç†é é¢ï¼š${page.title} (${page.path})`);

    // éæ­·æ‰€æœ‰ç« ç¯€
    for (const section of page.sections) {
      totalChunks++;
      
      try {
        // ç”Ÿæˆ embedding
        console.log(`  - ç”Ÿæˆå‘é‡ï¼š${section.title}`);
        const embedding = await generateEmbedding(section.content, hfApiKey);

        // æ’å…¥æˆ–æ›´æ–°æ•¸æ“šåº«
        const { error } = await supabase
          .from('content_chunks')
          .upsert(
            {
              page_path: page.path,
              page_title: page.title,
              section_title: section.title,
              content: section.content,
              embedding: embedding,
              updated_at: new Date().toISOString(),
            },
            {
              onConflict: 'page_path,section_title',
            }
          );

        if (error) {
          throw error;
        }

        successCount++;
        console.log(`    âœ… æˆåŠŸ`);

        // é¿å…è¶…é API é€Ÿç‡é™åˆ¶
        await new Promise(resolve => setTimeout(resolve, 300));
      } catch (error) {
        errorCount++;
        console.error(`    âŒ å¤±æ•—ï¼š${error}`);
      }
    }
  }

  // è¼¸å‡ºçµ±è¨ˆ
  console.log('\nğŸ“Š ç´¢å¼•å®Œæˆï¼');
  console.log(`   ç¸½å…±ï¼š${totalChunks} å€‹å…§å®¹å¡Š`);
  console.log(`   æˆåŠŸï¼š${successCount}`);
  console.log(`   å¤±æ•—ï¼š${errorCount}`);
}

// åŸ·è¡Œ
indexContent().catch(console.error);

